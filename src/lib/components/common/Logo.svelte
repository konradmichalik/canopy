<script lang="ts">
  import Tooltip from './Tooltip.svelte';

  interface Props {
    size?: 'sm' | 'md' | 'lg';
    showText?: boolean;
    animate?: boolean;
  }

  let { size = 'md', showText = true, animate = false }: Props = $props();

  const iconSizeClasses = {
    sm: 'w-6 h-6',
    md: 'w-8 h-8',
    lg: 'w-12 h-12'
  };

  const logoSizeClasses = {
    sm: 'h-6',
    md: 'h-8',
    lg: 'h-12'
  };
</script>

<div class="flex items-center gap-2">
  {#if showText}
    <Tooltip content="Hierarchical JIRA Issue Viewer">
      <svg
        class="{logoSizeClasses[size]} cursor-default"
        viewBox="0 0 900 276"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        aria-label="Canopy"
        role="img"
      >
        <g transform="matrix(1,0,0,1,396,-395)">
          <rect x="-396" y="395" width="900" height="276" style="fill:none;" />
          <g transform="matrix(1,0,0,1,-512.640029,-10.278561)">
            <g transform="matrix(26.936732,0,0,17.936732,142.382287,230.012293)">
              <path
                d="M22,20.19L22,22.442L21,22.442L21,18.815C21.259,19.379 21.602,19.851 22,20.19Z"
                style="fill:currentColor;"
              />
            </g>
            <g transform="matrix(26.936732,0,0,26.936732,169.382287,23.012293)">
              <circle cx="17.5" cy="18.5" r="2.5" style="fill:rgb(163,190,140);" />
            </g>
            <g transform="matrix(26.936732,0,0,26.936732,303.631073,23.012293)">
              <circle cx="17.5" cy="18.5" r="2.5" style="fill:rgb(208,135,112);" />
            </g>
            <g transform="matrix(1.126239,0,0,1.02934,-30.578067,29.991053)">
              <path
                d="M237.462,541.418C225.372,541.418 214.894,538.799 206.028,533.56C197.162,528.321 190.311,521.107 185.475,511.918C180.639,502.73 178.221,492.091 178.221,480.001C178.221,467.911 180.639,457.272 185.475,448.083C190.311,438.895 197.162,431.681 206.028,426.442C214.894,421.203 225.372,418.584 237.462,418.584C248.907,418.584 259.305,421.687 268.654,427.893C278.004,434.099 284.774,442.361 288.965,452.678L265.994,462.35C263.415,455.579 259.546,450.461 254.388,446.995C249.23,443.529 243.346,441.797 236.737,441.797C227.065,441.797 219.005,445.141 212.557,451.831C206.109,458.521 202.885,467.911 202.885,480.001C202.885,492.091 206.109,501.481 212.557,508.171C219.005,514.86 227.065,518.205 236.737,518.205C243.346,518.205 249.23,516.472 254.388,513.007C259.546,509.541 263.415,504.423 265.994,497.652L288.965,507.324C284.613,517.641 277.802,525.903 268.533,532.109C259.264,538.315 248.907,541.418 237.462,541.418Z"
                style="fill:currentColor;"
              />
            </g>
            <g transform="matrix(1.126239,0,0,1.02934,-30.578067,29.991053)">
              <path
                d="M375.225,530.167C373.365,532.089 371.291,533.784 369.001,535.252C361.586,540.007 352.881,542.385 342.887,542.385C333.698,542.385 325.8,540.773 319.19,537.549C312.581,534.325 307.544,529.691 304.078,523.646C300.612,517.601 298.879,510.387 298.879,502.005C298.879,494.267 300.652,487.376 304.199,481.331C307.745,475.286 312.823,470.49 319.432,466.944C326.041,463.397 333.86,461.624 342.887,461.624C354.171,461.624 363.238,464.163 370.089,469.241C370.375,469.453 370.657,469.668 370.935,469.886L370.935,459.932C370.935,454.934 369.243,450.34 365.858,446.149C362.473,441.958 356.508,439.862 347.965,439.862C343.451,439.862 338.494,440.386 333.094,441.434C327.694,442.482 322.092,444.295 316.289,446.874L309.035,428.256C315.644,425.032 322.495,422.614 329.588,421.002C336.681,419.39 343.612,418.584 350.383,418.584C360.538,418.584 368.92,420.438 375.53,424.145C382.139,427.853 387.055,432.81 390.279,439.016C393.503,445.222 395.115,452.194 395.115,459.932L395.115,539L377.706,539L375.225,530.167ZM347.239,520.865C354.332,520.865 360.055,519.213 364.407,515.908C368.759,512.604 370.935,507.969 370.935,502.005C370.935,495.879 368.759,491.204 364.407,487.98C360.055,484.756 354.332,483.144 347.239,483.144C340.146,483.144 334.424,484.756 330.071,487.98C325.719,491.204 323.543,495.879 323.543,502.005C323.543,507.969 325.719,512.604 330.071,515.908C334.424,519.213 340.146,520.865 347.239,520.865Z"
                style="fill:currentColor;"
              />
            </g>
            <g transform="matrix(1.126239,0,0,1.02934,-30.578067,29.991053)">
              <path
                d="M449.279,459.808L449.279,539L425.099,539L425.099,421.002L443.475,421.002L447.464,437.336C450.561,434.377 453.826,431.753 457.258,429.465C462.578,425.918 468.22,423.218 474.184,421.364C480.148,419.511 486.274,418.584 492.561,418.584C500.943,418.584 507.552,419.994 512.388,422.815C517.224,425.636 520.771,429.424 523.027,434.18C525.284,438.935 526.735,444.295 527.38,450.26C528.025,456.224 528.347,462.35 528.347,468.636L528.347,539L504.167,539L504.167,463.559C504.167,455.176 502.273,449.534 498.485,446.633C494.697,443.731 490.223,442.28 485.065,442.28C479.907,442.28 474.668,443.328 469.348,445.424C464.028,447.519 459.273,450.34 455.082,453.887C452.881,455.749 450.946,457.723 449.279,459.808Z"
                style="fill:currentColor;"
              />
            </g>
            <g transform="matrix(1.126239,0,0,1.02934,637.421933,29.991053)">
              <path
                d="M218.662,520.405L173.627,421.002L199.016,421.002L231.392,492.381L263.818,421.002L289.207,421.002L214.733,584.942L189.344,584.942L218.662,520.405Z"
                style="fill:currentColor;"
              />
            </g>
          </g>
        </g>
      </svg>
    </Tooltip>
  {:else}
    <svg
      class={iconSizeClasses[size]}
      viewBox="0 0 1000 1000"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      aria-label="Canopy"
      role="img"
    >
      <g class:logo-spin={animate} style="transform-origin: 500px 500px">
        <circle cx="300" cy="500" r="200" style="fill:rgb(163,190,140);" />
        <circle cx="700" cy="500" r="200" style="fill:rgb(208,135,112);" />
      </g>
    </svg>
  {/if}
</div>

<style>
  .logo-spin {
    animation: logo-swap 0.6s linear infinite;
  }

  @keyframes logo-swap {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
</style>
